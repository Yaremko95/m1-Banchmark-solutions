<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      td {
        min-width: 140px;
        /* border: 1px solid green*/
      }

      body {
        max-width: 50%;
        margin-left: 25%;
        margin-right: 25%;
      }

      h1 {
        text-align: center;
      }

      a {
        color: coral;
      }

      .with-border {
        border: 1px solid black;
      }

      table {
        border-radius: 15px;
      }

      tr:nth-child(2) td:first-child {
        border-top-left-radius: 1.5em;
      }

      tr:nth-child(2) td:last-child {
        border-top-right-radius: 1.5em;
      }

      tr:last-child td:first-child {
        border-bottom-left-radius: 1.5em;
      }

      tr:last-child td:last-child {
        border-bottom-right-radius: 1.5em;
      }

      p {
        margin-bottom: 35px;
      }

      .bigger-font {
        font-size: 2em;
        font-weight: 800;
      }

      .hidden {
        visibility: hidden;
      }

      .not-displayed {
        display: none;
      }

      tr td:first-child {
        border-left: 1px dotted red;
      }

      tr td:last-child {
        border-right: 1px dotted red;
      }

      td {
        border-bottom: 1px dotted red;
        border-top: 1px dotted red;
      }
      .bg-red {
        background-color: red;
      }
      .d-none {
        display: none;
      }
      .border-pink {
        border-color: pink;
      }
    </style>
  </head>

  <body data-new-gr-c-s-check-loaded="14.1000.0" data-gr-ext-installed="">
    <h1>This is a heading</h1>

    <ol>
      <li class="bigger-font">first element</li>
      <li>second element</li>
      <li>third element</li>
    </ol>

    <hr />

    <table>
      <tbody>
        <tr>
          <th>Col 1</th>
          <th>Col 2</th>
          <th>Col 3</th>
          <th>Col 4</th>
          <th>Col 5</th>
        </tr>

        <tr>
          <td>col 1 value</td>
          <td>
            <a href="https://google.com">
              <img src="https://placehold.it/200" />
            </a>
            <a href="https://google.com">I am a link</a>
          </td>
          <td>col 3 value</td>
          <td colspan="2">col 4 value together col 5 value</td>
        </tr>
        <tr>
          <td>col 1 value</td>
          <td>
            <a href="https://google.com">
              <img class="hidden" src="https://placehold.it/200" />
            </a>
          </td>
          <td>col 3 value</td>
          <td>col 4 value</td>
          <td>col 5 value</td>
        </tr>
        <tr>
          <td>col 1 value</td>
          <td>
            <a href="https://google.com">
              <img src="https://placehold.it/200" />
            </a>
          </td>
          <td>col 3 value</td>
          <td>col 4 value</td>
          <td>col 5 value</td>
        </tr>
        <tr>
          <td>col 1 value</td>
          <td>
            <a href="https://google.com">
              <img src="https://placehold.it/200" />
            </a>
          </td>
          <td>col 3 value</td>
          <td>col 4 value</td>
          <td>col 5 value</td>
        </tr>
      </tbody>
    </table>

    <div>
      <p>This is a paragraph. And that's it.</p>

      <ul>
        <li>first element</li>
        <li>second element</li>
        <li>third element</li>
      </ul>
    </div>

    <footer>
      <div>Some information about the page creator:</div>
      <div>My name is Luis and I'm your teaching assistant today! Cheers.</div>
    </footer>

    <script>
      // DOM

      // 31) Get element with ID "container" from the page
      const container = document.getElementById("container");
      // 32) Get every "td" from the page
      const tds = document.querySelectorAll("td");
      // 33) Create a cycle that prints the text inside every td of the page
      // tds.forEach((td) => {
      //   td.innerText = "text";
      // });
      // 34) Write a function to change the heading of the page
      const changeH1 = function (content) {
        const h1 = document.querySelector("h1");
        h1.innerText = content;
      };
      changeH1("new text");
      // 35) Write a function to add an extra row to the table
      const addRow = function () {
        const tbody = document.querySelector("tbody");
        const tr = document.createElement("tr");
        for (let i = 0; i < 5; i++) {
          const td = document.createElement("td");
          td.innerText = i + 1;
          tr.appendChild(td);
        }
        tbody.appendChild(tr);
      };
      addRow();
      // 36) Write a function to add the class "test" to each row in the table
      const addClassToRow = function () {
        const trs = document.querySelectorAll("tr");
        trs.forEach((tr) => {
          tr.classList.add("test");
        });
      };
      // 37) Write a function to add a red background to every link in the page
      const addRedBg = function () {
        const links = document.querySelectorAll("a");
        links.forEach((link) => {
          link.classList.add("bg-red");
        });
      };
      addRedBg();
      // 38) Console log "Page loaded" when the page is correctly loaded
      window.onload = function () {
        console.log("Page loaded");
      };
      // 39) Write a function to add new items to a UL
      const addLi = function () {
        const ul = document.querySelector("ul");
        const li = document.createElement("li");
        li.innerText = "new list item";
        ul.appendChild(li);
      };
      addLi();
      // 40) Write a function to empty a list
      const emptyList = function () {
        const ul = document.querySelector("ul");
        ul.innerHTML = "";
      };
      emptyList();

      // EXTRA

      // 41) Add an eventListener to alert when the mouse is over a link, displaying the URL
      const alertUrl = function () {
        const links = document.querySelectorAll("a");
        links.forEach((link) => {
          link.onmouseenter = function (e) {
            alert(e.target.href);
          };
        });
      };
      //alertUrl();
      // 42) Add a button to hide every image on the page
      const hideImages = function () {
        const btn = document.createElement("button");
        btn.innerText = "Hide images";
        btn.onclick = function () {
          const imgs = document.querySelectorAll("img");
          imgs.forEach((img) => {
            img.classList.add("d-none");
          });
        };
        const body = document.querySelector("body");
        body.appendChild(btn);
      };
      hideImages();
      // 43) Add a button to hide and show the table from the page
      const toggleTable = function () {
        const btn = document.createElement("button");
        btn.innerText = "Toggle table";
        btn.onclick = function () {
          const table = document.querySelector("table");
          table.classList.toggle("d-none");
        };

        const body = document.querySelector("body");
        body.appendChild(btn);
      };
      toggleTable();
      // 44) Write a function to sum every number inside the TD (if the content is numeric)
      const sumNumbers = function () {
        const tds = document.querySelectorAll("td");
        let sum = 0;
        tds.forEach((td) => {
          const toNumber = parseInt(td.innerText);
          const isNotNumeric = isNaN(toNumber);
          if (!isNotNumeric) {
            sum += toNumber;
          }
        });
        alert(sum);
      };
      //sumNumbers();

      // 45) Delete the last letter from the title each time the user clicks on it
      const deleteLastChar = function () {
        const h1 = document.querySelector("h1");
        h1.onclick = function (e) {
          h1.innerText = h1.innerText.substring(0, h1.innerText.length - 1);
        };
      };
      deleteLastChar();
      // 46) Change a single TD background color when the user clicks on it
      const changeTdBg = function () {
        const tds = document.querySelectorAll("td");
        tds.forEach((td) => {
          td.onclick = function (e) {
            e.target.classList.toggle("bg-red");
          };
        });
      };
      //changeTdBg();

      // 47) Add a button DELETE, on click it should delete a random TD from the page
      const deleteRandom = function () {
        const btn = document.createElement("button");
        btn.innerText = "Delete random";
        btn.onclick = function () {
          const tds = document.querySelectorAll("td");
          const random = Math.floor(Math.random() * tds.length);
          tds[random].remove();
        };
        const body = document.querySelector("body");
        body.appendChild(btn);
      };
      deleteRandom();
      // 48) Add a pink border to a cell when the mouse is over it
      const addPinkBorder = function () {
        const cells = document.querySelectorAll("td");
        cells.forEach((td) => {
          td.onmouseenter = function (e) {
            e.target.classList.add("border-pink");
          };
          td.onmouseleave = function (e) {
            e.target.classList.remove("border-pink");
          };
        });
      };
      addPinkBorder();
      // 49) Write a function to add a table with 4 rows and 3 columns programmatically
      /*
    <table class="table-2">
        <tbody>
            <tr>
                <th>Heading 1</th>
                <th>Heading 2</th>
                <th>Heading 3</th>
            </tr>
            <tr>
                <td>Row: 1 Col: 1</td>
                <td>Row: 1 Col: 2</td>
                <td>Row: 1 Col: 3</td>
            </tr>
            <tr>
                <td>Row: 2 Col: 1</td>
                <td>Row: 2 Col: 2</td>
                <td>Row: 2 Col: 3</td>
            </tr>
            <tr>
                <td>Row: 3 Col: 1</td>
                <td>Row: 3 Col: 2</td>
                <td>Row: 3 Col: 3</td>
            </tr>
            <tr>
                <td>Row: 4 Col: 1</td>
                <td>Row: 4 Col: 2</td>
                <td>Row: 4 Col: 3</td>
            </tr>
        </tbody>
    </table>

*/
      const createTable = function () {
        const body = document.querySelector("body");
        const table = document.createElement("table");
        const tbody = document.createElement("tbody");
        table.appendChild(tbody);
        body.appendChild(table);
        for (let i = 0; i < 5; i++) {
          const tr = document.createElement("tr");
          tbody.appendChild(tr);
          for (let j = 0; j < 3; j++) {
            if (i === 0) {
              const th = document.createElement("th");
              th.innerText = "Heading " + (j + 1);
              tr.appendChild(th);
            } else {
              const td = document.createElement("td");
              td.innerText = `Row ${i} Col ${j + 1}`;
              tr.appendChild(td);
            }
          }
        }
      };
      createTable();
      // 50) Write a function to remove the table from the page
      const removeTable = function () {
        const table = document.querySelectorAll("table")[1];
        table.remove();
      };
      //removeTable();
    </script>
  </body>
</html>
